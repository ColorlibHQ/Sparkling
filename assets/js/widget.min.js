jQuery(document).ready(function(){var a={selector:null,size:null,container:null,frame:function(){return this._frame?this._frame:(this._frame=wp.media({title:"Media",button:{text:"Update"},multiple:!1}),this._frame.on("open",this.updateFrame).state("library").on("select",this.select),this._frame)},select:function(){var b=jQuery(".attachments").find(".selected").attr("data-id"),c=jQuery(".sparkling-media-container").find(a.selector),d={action:"sparkling_get_attachment_media",attachment_id:b};return c.length?void jQuery.post(Sparkling.ajaxurl,d,function(b){var d=jQuery(a.container).find("img");d.length>0?d.replaceWith(b.image):jQuery(a.container).find(".attachment-media-view").append(b.image),jQuery(a.container).find(".attachment-media-view .placeholder").hide(),c.val(b.id).change()},"json"):!1},init:function(){var b=jQuery("#wpbody, .wp-customizer");b.on("click",".sparkling-media-container .upload-button",function(b){var c=jQuery(this).parents(".sparkling-media-container"),d=c.find("input"),e=d.attr("id");b.preventDefault(),a.container=c,a.selector="#"+e,a.frame().open()}),b.on("click",".sparkling-media-container .remove-button",function(a){var b=jQuery(this).parents(".sparkling-media-container"),c=b.find("input"),d=b.find("img"),e=b.find(".placeholder");a.preventDefault(),d.remove(),e.show(),c.val("").trigger("change")})}};a.init()});
//# sourceMappingURL=widget.min.js.map